
# 🚀 My Auth API Project

📅 **Date**: 2025-09-09

---

## ✅ Today’s Work Summary

We designed and implemented a simple authentication backend system using:
- **Node.js + Express.js**
- **MySQL** (for Users data)
- **MongoDB** (for Activity Logs)
- **JWT Authentication**
- **Role-based Access Control (RBAC)**

---

## 📚 APIs Created

---

### 1️⃣ Signup API

- **POST** `/api/auth/signup`

#### ➤ Request Payload:
```json
{
    "username": "varaprasad",
    "email": "vara@example.com",
    "password": "123456"
}
```

#### ➤ Response:
```json
{
    "message": "User registered successfully",
    "userId": 1
}
```

---

### 2️⃣ Login API

- **POST** `/api/auth/login`

#### ➤ Request Payload:
```json
{
    "email": "vara@example.com",
    "password": "123456"
}
```

#### ➤ Response:
```json
{
    "message": "Login successful",
    "token": "<JWT_TOKEN>"
}
```

---

### 3️⃣ Get User Profile (Protected)

- **GET** `/api/profile`  
- Headers:
    - Authorization: Bearer <JWT_TOKEN>

#### ➤ Response:
```json
{
    "user": {
        "id": 1,
        "username": "varaprasad",
        "email": "vara@example.com"
    }
}
```

---

### 4️⃣ Get All Users (Admin Only)

- **GET** `/api/admin/users`  
- Headers:
    - Authorization: Bearer <JWT_TOKEN> (Must have role 'admin' or 'superadmin')

#### ➤ Response:
```json
{
    "users": [
        { "id": 1, "username": "varaprasad", "email": "vara@example.com", "role": "user" },
        { "id": 2, "username": "adminuser", "email": "admin@example.com", "role": "admin" }
    ]
}
```

---

## ✅ Activity Logs

- MongoDB stores logs of key actions:
    - User Signup
    - User Login
    - Profile Viewed

Example Log Entry:
```json
{
    "userId": "1",
    "action": "User signed up",
    "timestamp": "2025-09-09T12:34:56.789Z"
}
```

---

## 🎯 Possible Interview Questions & Best Answers

---

### ❓ 1. What is JWT and why do we use it?

💡 **Best Answer**:  
JWT (JSON Web Token) is a compact, URL-safe way to represent claims between two parties. We use JWT for stateless authentication because it securely stores user information and allows clients to authenticate without the need to store session state on the server.

---

### ❓ 2. Why are we using MySQL and MongoDB together?

💡 **Best Answer**:  
We use MySQL to store structured relational data like users, because it provides strong consistency and relational features. MongoDB is used for activity logs because they are semi-structured and grow over time; MongoDB handles large volumes of data efficiently and is flexible for schema-less logs.

---

### ❓ 3. How does role-based access control work in your project?

💡 **Best Answer**:  
When a user logs in, their role is embedded inside the JWT token. We use a middleware that checks the user’s role in the token before allowing access to restricted routes, ensuring only authorized roles (like 'admin' or 'superadmin') can perform sensitive operations.

---

### ❓ 4. What are the benefits of separating routes, controllers, and middlewares?

💡 **Best Answer**:  
Separating routes, controllers, and middlewares improves code maintainability, readability, and scalability. It makes the codebase easier to test, debug, and extend. Each layer has a single responsibility, so adding features later (like OTP or notifications) becomes easier.

---

## ✅ Next Steps

- Implement OTP verification during signup  
- Expand role management (assign/remove roles dynamically)  
- Create Postman Collection for easier testing

---

📖 Keep prolonging the project and build for a noble cause! 🚀
